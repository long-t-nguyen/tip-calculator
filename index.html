<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tip Calculator</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="container">
        <!-- Overlay -->
        <div id="overlay" class="active">
            <div class="overlay-card">
                <img src="logo.png" alt="logo">
                <h2>-</h2>
                <input type="password" id="password" placeholder="Enter password">
                <button id="login-button">Login</button>
                <p id="error" class="error"></p>
            </div>
        </div>

        <!-- Calculator -->
        <main id="calculator" style="display:none;">
            <h1 id="title" class="title">Tip Distribution Calculator</h1>
            <label>Total Cash ($)<input type="number" id="total-cash" min="0" step="0.01"></label>
            <label>Servers / Bartenders<input type="number" id="servers" min="0"></label>
            <label>Bussers<input type="number" id="bussers" min="0"></label>
            <label>Hosts<input type="number" id="hosts" min="0" step="0.5"></label>
            <button id="calculate">Calculate</button>
            <button id="formula" class="secondary-btn">How the Equation Works</button>
            <div id="results"></div>
        </main>

        <!-- History Section -->
        <section id="history-section" style="display:none;">
            <div class="history-header">
                <h2>ðŸ“Š Tip History</h2>
                <button id="export-history" class="export-btn">Export CSV</button>
            </div>
            <div id="history-list">
                <div class="no-history">No tip calculations saved yet. Calculate and save some tips to see them here!</div>
            </div>
        </section>
    </div>

    <!-- Formula Model -->
    <div id="formula-modal" style="display: none;">
        <div style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); display: flex; justify-content: center; align-items: center; z-index: 10000;">
            <div style="background: white; padding: 2rem; border-radius: 16px; max-width: 500px; width: 90%;">
                <h2 style="color: #1a73e8; text-align: center;">Tip Distribution Guide</h2>
                <div style="background: #e8f0fe; padding: 1rem; border-radius: 10px; font-family: monospace; margin: 1rem 0;">
                    (x) Ã· (y) = (z)<br>
                    (z) * (t) = (a)
                </div>
                <div style="background: #e8f0fe; padding: 1rem; border-radius: 10px; margin: 1rem 0;">
                    <strong>(x)</strong> = Total Cash | <strong>(y)</strong> = Total Points<br>
                    <strong>(z)</strong> = Value per point | <strong>(t)</strong> = Points per position
                </div>
                <div style="margin: 1rem 0; text-align: center;">
                    <p><strong>Server/Bartender = 2 points</strong></p>
                    <p><strong>Busser = 1 point</strong></p>
                    <p><strong>Host = 0.5 points</strong></p>
                    <p style="margin-top: 1rem; font-style: italic;">Excess = Total cash after rounding down (Manager's discretion)</p>
                </div>
                <button onclick="document.getElementById('formula-modal').style.display='none'" style="width: 100%; background: #1a73e8; color: white; border: none; padding: 0.8rem; border-radius: 8px; font-size: 1rem; cursor: pointer;">Close</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>